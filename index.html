<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Audio Player</title>

<link rel="manifest" href="manifest.json">
<!-- <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> -->
<link href="styles.css" rel="stylesheet">

</head>
<body>
  <div class="max_w_sm mx_auto p_2 space">
    <div style="display: flex; justify-content: space-between;" class="px_1">
      <button id="booksBtn" class="nav navActive">Books</button>

      <button id="refreshBtn" class="nav navActive">Refresh</button>
      
      <button id="recentsBtn" onclick="openOverlay('recent')" class="nav navActive">Recent</button>
      
      <button id="bmkBtn" style="width: 12vw;" class="nav navActive">
        <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" width="36" height="36">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
      </button>

      <button id="bmkViewBtn" class="nav navActive">
        <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" width="20" height="20">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
        View
      </button>
    </div>

    <img id="cover" src="default1.png" alt="Cover" class="w_full rounded_2xl mb_4 hidden">
    
    <audio id="audio" preload="metadata"></audio>

    <!-- Hide when no directory selected -->
    <div class="txt_rack">
      <button id="trkTitleBtn" style="font-size: 1rem;" class="link"></button>
    </div>

    <div id="timeInf" style="font-size: 1rem; display: none;" class="txt_rack">
    <!-- <div id="timeInf" style="font-size: 1rem; display: flex; flex-direction: column;" class="txt_rack"> -->
      <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
        <span id="currentTime">00:00</span> | 
        remaining: <span id="remainingTime">00:00</span> | 
        total: <span id="bookTotalTime">00:00</span>
      </div>
      <div id="progress_container" style="width: 80vw; background-color: #aaa; border-radius: 2px; margin-top: 5px;">
        <div id="progress_bar" style="width: 0; height: 1.5vh; background-color: green; border-radius: 2px;"></div>
      </div>
    </div>

    <!-- Overlay View -->
    <div id="overlay" class="hidden">
      <div class="flex justify_between items_center mb_4">
        <h2 id="overlayTitle" class="text_xl"></h2>
        <button onclick="toggleOverlay(true)" class="text_red_600 text_lg">Close</button>
      </div>
      <ul id="overlayList"></ul>
    </div>

    <div id="transCon" class="mx_auto hidden">
      <div class="nav_btns mx_auto">
        <button onclick="prevTrack()" class="sq_btn">&lt;</button>
        <button onclick="skipTime(-60)" class="sq_btn">-1m</button>
        <button onclick="skipTime(-10)" class="sq_btn">-10s</button>
        <button onclick="skipTime(-5)" class="sq_btn">-5s</button>
        <button onclick="skipTime(-2)" class="sq_btn">-2s</button>
      </div>

      <div class="play_pause_rack">
        <button onclick="togglePlay()" id="playPauseBtn" class="p_2 my_2 bg_blue_500 txt_white text_3xl rounded">play</button>
      </div>

      <div class="nav_btns mx_auto">
        <button onclick="skipTime(2)" class="sq_btn">+2s</button>
        <button onclick="skipTime(5)" class="sq_btn">+5s</button>
        <button onclick="skipTime(10)" class="sq_btn">+10s</button>
        <button onclick="skipTime(60)" class="sq_btn">+1m</button>
        <button onclick="nextTrack()" class="sq_btn">&gt;</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>